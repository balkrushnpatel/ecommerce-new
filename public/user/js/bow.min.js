$('.shop-layout').click(function(){
	var id = $(this).attr('data-id');
	$('.shop-layout').removeClass('active');
	$(this).addClass('active');
	$('#box-view').removeClass('hidden');
	$('#single-box-view').removeClass('hidden');
	if(id == 'box-view'){ 
		$('#single-box-view').addClass('hidden'); 
	}
	if(id == 'single-box-view'){
		$('#box-view').addClass('hidden'); 
	}
});

$('#filtter').change(function(){
	var filter = $(this).val(); 
	var catId = $('.filter-items a.active').attr('data-cat_id');
	var price = $('.price_filter a.active').attr('data-price');
	filterProduct(catId,filter,price); 
});
$('.category-filter').click(function(){
	var catId = $(this).attr('data-cat_id');
	var filter = $('#filtter').val(); 
	var price = $('.price_filter a.active').attr('data-price');
	$('.category-filter').removeClass('active');
	$(this).addClass('active');
	filterProduct(catId,filter,price); 
});
$('.price_filter').click(function(){
	var price = $(this).attr('data-price');
	var filter = $('#filtter').val(); 
	var catId = $('.filter-items a.active').attr('data-cat_id');
	$('.price_filter').removeClass('active');
	$(this).addClass('active');
	filterProduct(catId,filter,price); 
});
$('.filter-clean').click(function(){ 
	$('.category-filter').removeClass('active');
	$('#filtter').val(''); 
	filterProduct();
});

$('.btn-cart').click(function(){ 
	if(!$(this).hasClass("disabled")){ 
		var id = $(this).attr('data-id');
		var color = $('.cust-color.active').data('color');
		var option = $('#option').val();
		var qty = $('#qty').val();
		$.ajax({
			url: APP_URL + '/cart/product',
			data : {
				'color':color,
				'option':option,
				'qty':qty,
				'id':id
			},
			beforeSend: function() { 
			},
			success: function(res) {
				headerCart();
			}
		});
	}
}); 
$( document ).delegate( ".remove-product", "click", function() { 	  
	var id = $(this).attr('data-id'); 
	$.ajax({
		url: APP_URL + '/cart/remove-product',
		data : { 
			'id':id
		},
		beforeSend: function() { 
		},
		success: function(res) {
			headerCart();
		}
	}); 
}); 
function filterProduct(category_id = '',filter='',price=''){
	$.ajax({
		url: APP_URL + '/product/get-list',
		data : {
			'category_id':category_id,
			'filter':filter,
			'price':price
		},
		beforeSend: function() { 
		},
		success: function(res) {
			$('#product-list-wrap').html(res); 
		}
	});
}
function headerCart(){
	$.ajax({
		url: APP_URL + '/cart/header-box',
		data : { 
		},
		beforeSend: function() { 
		},
		success: function(res) {
			$('#header-cart').html(res); 
		}
	});
}